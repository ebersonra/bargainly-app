CREATE TABLE IF NOT EXISTS markets (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  nome TEXT NOT NULL,
  endereco TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS products (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  mercado_id BIGINT REFERENCES markets(id) ON DELETE CASCADE,
  nome TEXT NOT NULL,
  unidade TEXT,
  valor NUMERIC(10,2),
  categoria TEXT,
  gtin TEXT,
  thumbnail TEXT,
  barcode TEXT,
  created_at TIMESTAMPTZ DEFAULT current_timestamp
);
